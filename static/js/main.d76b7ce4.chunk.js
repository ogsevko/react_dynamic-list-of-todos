(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(2),s=n.n(r),i=n(5),c=n(7),l=n(3),u=n(4),d=n(8),m=n(6);n(14);function p(t){return fetch(t).then((function(t){return t.json()})).then((function(t){return t.data})).catch((function(t){return t}))}var f=function(t){var e=t.todo;return a.a.createElement("li",{className:"list__item"},a.a.createElement("input",{type:"checkbox",checked:e.completed}),a.a.createElement("span",{className:"list__item-title"},e.title),a.a.createElement("span",{className:"list__item-user"},e.userName))},h=function(t){var e=t.todos;return a.a.createElement("ul",{className:"list"},e.map((function(t){return a.a.createElement(f,{key:t.id,todo:t})})))},y=function(t){Object(d.a)(n,t);var e=Object(m.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this,{})).todosCopy=void 0,t.state={todos:[],isLoading:!1,filterBy:""},t.loadTodos=function(){var e;t.setState({isLoading:!0}),p("https://mate.academy/students-api/users").then((function(t){e=t})),p("https://mate.academy/students-api/todos").then((function(n){t.setState({todos:n.map((function(t){var n=Object(c.a)({},t),o=e.find((function(e){return e.id===t.userId}));return n.userName=o?o.name:"",n})),isLoading:!1},(function(){t.todosCopy=Object(i.a)(t.state.todos)}))}))},t.handleFilter=function(e){"title"===e&&t.setState({todos:t.todosCopy.sort((function(t,e){return t.title.localeCompare(e.title)})),filterBy:e}),"userName"===e&&t.setState({todos:t.todosCopy.sort((function(t,e){return t.userName&&e.userName?t.userName.localeCompare(e.userName):0})),filterBy:e}),"completed"===e&&t.setState({todos:t.todosCopy.sort((function(t,e){return t.completed===e.completed?0:t.completed?-1:1})),filterBy:e})},t.todosCopy=[],t}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.todos;return e.isLoading?a.a.createElement("span",null,"Loading..."):0===n.length?a.a.createElement("button",{type:"button",onClick:this.loadTodos},"Load todos"):a.a.createElement("div",null,a.a.createElement("select",{name:"filterBy",value:this.state.filterBy,onChange:function(e){return t.handleFilter(e.target.value)}},a.a.createElement("option",{value:"title"},"Title"),a.a.createElement("option",{value:"completed"},"Completed"),a.a.createElement("option",{value:"userName"},"User name")),a.a.createElement(h,{todos:this.state.todos}))}}]),n}(a.a.Component);s.a.render(a.a.createElement(y,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.d76b7ce4.chunk.js.map